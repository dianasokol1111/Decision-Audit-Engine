<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Decision Audit Engine™</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      background: #0e0e11;
      color: #f5f5f7;
      max-width: 900px;
      margin: auto;
      padding: 40px 20px;
    }

    h1 { font-size: 28px; font-weight: 600; }
    h2 { font-size: 18px; margin-top: 40px; }

    p {
      line-height: 1.6;
      opacity: 0.85;
      max-width: 720px;
    }

    label {
      display: block;
      margin-top: 22px;
      font-size: 14px;
      opacity: 0.9;
    }

    input {
      width: 100%;
      margin-top: 6px;
      padding: 10px;
      background: #1a1a1f;
      color: #fff;
      border: 1px solid #2a2a33;
      border-radius: 6px;
      font-size: 14px;
    }

    button {
      margin-top: 30px;
      padding: 14px 24px;
      font-size: 15px;
      background: #ffffff;
      color: #000;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }

    #humanReport {
      margin-top: 40px;
      padding: 22px;
      background: #141418;
      border-radius: 10px;
      white-space: pre-wrap;
      display: none;
    }

    .disclaimer {
      margin-top: 50px;
      font-size: 12px;
      opacity: 0.6;
      border-top: 1px solid #2a2a33;
      padding-top: 20px;
    }
  </style>
</head>

<body>

<h1>Decision Audit Engine™</h1>

<p>
This system does not help you decide.<br>
It helps you see whether urgency comes from time — or from pressure.
</p>

<hr style="margin:40px 0; border-color:#2a2a33;">

<h2>Decision Record</h2>

<label>Decision statement (required)</label>
<input id="statement" placeholder="e.g. I will delay signing the agreement until the end of next month." />

<label>Measurement unit</label>
<input id="unit" placeholder="e.g. EUR, USD, units" />

<label>Experienced loss (already incurred, factual)</label>
<input type="number" id="experiencedLoss" />

<label>Potential loss if things go badly</label>
<input type="number" id="potentialLoss" />

<label>Potential gain if things go well</label>
<input type="number" id="potentialGain" />

<label>Estimated likelihood of loss (%)</label>
<input type="number" id="likelihood" min="0" max="100" />

<label>Delay or exposure period (days)</label>
<input type="number" id="days" />

<label>Declared urgency level (1–10)</label>
<input type="number" id="urgency" min="1" max="10" />

<button id="runAuditBtn">Run structural audit</button>

<div id="humanReport"></div>

<div class="disclaimer">
  <p>This system does not predict outcomes.</p>
  <p>This system does not provide recommendations.</p>
</div>

<script>
(function () {

  const num = v => Number.isFinite(+v) ? +v : 0;

  function runAudit() {

    const statement = statementInput.value.trim();
    if (!statement) {
      alert("Decision statement is required.");
      return;
    }

    const unit = unitInput.value || "units";
    const experienced = num(experiencedLoss.value);
    const potentialLoss = num(potentialLossInput.value);
    const potentialGain = num(potentialGainInput.value);
    const likelihood = num(likelihoodInput.value) / 100;
    const days = Math.max(1, num(daysInput.value));
    const urgency = num(urgencyInput.value);

    const expectedDailyLoss = (potentialLoss * likelihood) / days;
    const dailyGain = potentialGain / days;

    // --- CORE VARIABLE ---
    const riskRewardTension =
      (expectedDailyLoss - dailyGain) * (urgency / 10);

    let narrative = "";

    if (experienced > 0 && potentialLoss === 0) {
      narrative = `
You are reacting to a loss that has already happened.

There is no additional downside accumulating with time.
Urgency here is likely driven by the emotional weight of the past loss,
not by current exposure.
      `;
    }
    else if (riskRewardTension > 0 && expectedDailyLoss > dailyGain) {
      narrative = `
Time is actively increasing downside exposure faster than upside can compensate.

Each additional day shifts the balance against you.
In this case, urgency is structurally grounded in how the situation evolves over time.
      `;
    }
    else if (riskRewardTension < 0 && dailyGain > expectedDailyLoss) {
      narrative = `
The potential upside offsets the expected downside on a daily basis.

Pressure may feel intense, but it is not being enforced by time itself.
This suggests fear of loss or uncertainty may be amplifying urgency.
      `;
    }
    else {
      narrative = `
This situation sits in a balanced zone.

Neither loss nor gain dominates on a daily basis.
Urgency is understandable, but not structurally forced by time.
      `;
    }

    const report = `
STRUCTURAL SNAPSHOT

Experienced loss (fact):
${experienced.toFixed(2)} ${unit}

Expected daily downside:
${expectedDailyLoss.toFixed(2)} ${unit} per day

Potential daily upside:
${dailyGain.toFixed(2)} ${unit} per day

Declared urgency:
${urgency} / 10

Risk–reward tension:
${riskRewardTension.toFixed(2)}

${narrative.trim()}
    `;

    humanReport.style.display = "block";
    humanReport.textContent = report;
  }

  // Bind elements
  const statementInput = document.getElementById("statement");
  const unitInput = document.getElementById("unit");
  const experiencedLoss = document.getElementById("experiencedLoss");
  const potentialLossInput = document.getElementById("potentialLoss");
  const potentialGainInput = document.getElementById("potentialGain");
  const likelihoodInput = document.getElementById("likelihood");
  const daysInput = document.getElementById("days");
  const urgencyInput = document.getElementById("urgency");
  const humanReport = document.getElementById("humanReport");

  document
    .getElementById("runAuditBtn")
    .addEventListener("click", runAudit);

})();
</script>

</body>
</html>
